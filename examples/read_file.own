io :: import = std.io
coll :: import = std.collections
util :: import = std.util

read :: fn(file io.File) {
    for 1 {
        line := io.getline(file)?
        defer coll.darr_free(&line)

        io.print_str(coll.darr_slice(line), "")
    }
}

main :: fn() i32 {
    if .some(file) := io.open_file("examples/read_file.own", "r") {
        read(file)
        io.close_file(file)
    } else {
        io.print_str("error: could not open file")
        return 1
    }

    return 0
}
