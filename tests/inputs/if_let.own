//io :: import = std.io
//util :: import = std.util

main :: fn() i32 {
    opt util.Optional(<i32>) := .some(7)
    if .some(num) := opt {
        io.printf("yes 1: %d\n", num)
    }

    if .some(num) := opt {
        io.printf("yes 2: %d\n", num)
    } else {
        io.printf("no 2\n")
    }

    opt = .none
    if .some(num) := opt {
        io.printf("no 3: %d\n", num)
    } else {
        io.printf("yes 3\n")
    }

    if .some(num) := opt {
        io.printf("no 4: %d\n", num)
    }

    result1 util.Result(<i32, Str>) := .ok(6)
    if .ok(num) := result1 {
        num2 i32 := num
        io.printf("yes 5: %d\n", num)
    } else (str) {
        io.printf("no 5: ")
        io.print_str(str)
    }

    result2 util.Result(<i32, Str>) := .error("did not work")
    if .ok(num) := result2 {
        io.printf("no 6: %d\n", num)
    } else (str) {
        io.printf("yes 6: ")
        io.print_str(str)
    }

    result3 util.Result(<i32, Str>) := .ok(6)
    if .error(str) := result3 {
        io.printf("no 7: ")
        io.print_str(str)
    } else (num) {
        num4 i32 := num
        io.printf("yes 7: %d\n", num)
    }

    result4 util.Result(<i32, Str>) := .error("did not work")
    if .error(str) := result4 {
        io.printf("yes 8: ")
        io.print_str(str)
    } else (num) {
        io.printf("no 8: %d\n", num)
    }

    return 0
}
