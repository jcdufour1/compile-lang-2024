coll :: import = std.collections
util :: import = std.util
io :: import = std.io

Token :: struct {
    num i32
}

main :: fn() i32 {
    num i32 := 3
    ptr i32* := &num
    ptr_ptr i32** := &ptr

    arr coll.Arr(<Token*, 1>) := coll.arr_new(<Token*, 1>)([util.null(<Token>)()])
    *coll.arr_at_ref(arr, 0) = util.alloc(<Token>)(1)
    coll.arr_at_ref(arr, 0).num = 9

    io.print_int(coll.arr_at_ref(arr, 0).num)

    arr2 coll.Arr(<Token**, 1>) := coll.arr_new(<Token**, 1>)([util.null(<Token*>)()])
    arr3 coll.Arr(<Token***, 1>) := coll.arr_new(<Token***, 1>)([util.null(<Token**>)()])

    return 0
}
