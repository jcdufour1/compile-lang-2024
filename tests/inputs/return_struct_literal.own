io :: import = std.io


Str_view :: struct {
    data u8*
    count i64
}

Token :: struct {
    file u8*
    line i32
    str_data Str_view
}

get_token :: fn() Token {
    return {.file = "file.txt", .line = 21, .str_data = {.data = "hello world", .count = 11}}
}

get_line :: fn(token Token) i32 {
    return token.line
}

get_num :: fn() i32 {
    return 65
}

main :: fn() i32 {
    let token Token = get_token()
    io.printf("%s %d %s\n", token.file, token.line, token.str_data.data)

    let line i32 = get_line({.file = "second_file.txt", .line = get_num(), .str_data = {.data = "bye", .count = 3}})
    io.printf("%d\n", line)

    return 0
}
