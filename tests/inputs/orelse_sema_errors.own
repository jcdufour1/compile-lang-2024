type util import = std.util
type io import = std.io

fn do_thing(should_succeed u1) util.Optional(<i32>) {
    if should_succeed => return .some(9)
    return .none
}

type FALSE def = 0
type TRUE def = 1

fn thing1() {
    let num i32 = do_thing(TRUE) orelse {
        io.print_int(8)
    }
}

fn thing2() {
    let num i32 = do_thing(TRUE) orelse {
        io.print_int(8)
        yield 8
    }
}

fn thing3() {
    let num i32 = do_thing(TRUE) orelse {
        io.print_int(8)
        yield 8
        return
    }
}

fn thing4() {
    let num i32 = do_thing(TRUE) orelse(err) {
        io.print_int(8)
        yield 8
        return
    }
}

fn thing5() {
    let num u8 = do_thing(TRUE) orelse {
        return
    }
}

fn main() i32 {
    thing1()
    thing2()
    thing3()
    thing4()
    thing5()

    return 0
}
