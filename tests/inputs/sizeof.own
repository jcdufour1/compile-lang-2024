
io :: import = std.io

TokenType :: enum {
    num
    str
}

Div1 :: struct {
    num1 i64
    num2 i16
}

Div2 :: struct {
    num1 i16
    num2 i64
}

Div3 :: struct {
    num1 i32
    num2 i16
}

Div4 :: struct {
    num1 i16
    num2 i32
}

Div5 :: struct {
    num1 i32
    num2 i32
}

Div6 :: struct {
    num1 Div1
    num2 i32
}

Div7 :: struct {
    num1 i16
    num2 i16
}

Div8 :: struct {
    num1 f128
    num2 i16
}

Token1 :: enum {
    num1 i64
    num2 Div1
}

Token2 :: enum {
    num2 Div1
    num1 i64
}

Token3 :: enum {
    num1 i32
    num2 i16
}

Token4 :: enum {
    num1 i16
    num2 i32
}

Token5 :: enum {
    num1 i32
    num2 i32
}

Raw1 :: raw_union {
    num1 i64
    num2 Div1
}

Raw2 :: raw_union {
    num2 Div1
    num1 i64
}

Raw3 :: raw_union {
    num1 i32
    num2 i16
}

Raw4 :: raw_union {
    num1 i16
    num2 i32
}

Raw5 :: raw_union {
    num1 i32
    num2 i32
}

Raw6 :: raw_union {
    num1 u1
    num2 i3
}

// TODO: duplicate members should not be allowed
Token :: enum {
    num i64
    num i64
}

StrangeSize :: struct {
    num1 u64
    num2 u1
}

main :: fn() i32 {
    nothing void :
    io.printf("sizeof nothing = %zu\n", sizeof nothing)

    num i32 := 91
    io.printf("sizeof num = %zu\n", sizeof num)
    io.printf("sizeof(num) = %zu\n", sizeof(num))

    token_type TokenType := .num
    io.printf("sizeof token_type = %zu\n", sizeof token_type)

    div1 Div1 := {.num1 = 8, .num2 = 6}
    io.printf("sizeof div1 = %zu\n", sizeof div1)
    div2 Div2 := {.num1 = 8, .num2 = 6}
    io.printf("sizeof div2 = %zu\n", sizeof div2)
    div3 Div3 := {.num1 = 8, .num2 = 6}
    io.printf("sizeof div3 = %zu\n", sizeof div3)
    div4 Div4 := {.num1 = 8, .num2 = 6}
    io.printf("sizeof div4 = %zu\n", sizeof div4)
    div5 Div5 := {.num1 = 8, .num2 = 6}
    io.printf("sizeof div5 = %zu\n", sizeof div5)
    div6 Div6 := {.num1 = {.num1 = 9, .num2 = 0}, .num2 = 6}
    io.printf("sizeof div6 = %zu\n", sizeof div6)
    div7 Div7 := {.num1 = 8, .num2 = 6}
    io.printf("sizeof div7 = %zu\n", sizeof div7)
    div8 Div8 := {.num1 = 8.0, .num2 = 6}
    io.printf("sizeof div8 = %zu\n", sizeof div8)

    token1 Token1 := .num1(8)
    io.printf("sizeof token1 = %zu\n", sizeof token1)
    token2 Token2 := .num1(8)
    io.printf("sizeof token2 = %zu\n", sizeof token2)
    token3 Token3 := .num1(8)
    io.printf("sizeof token3 = %zu\n", sizeof token3)
    token4 Token4 := .num1(8)
    io.printf("sizeof token4 = %zu\n", sizeof token4)
    token5 Token5 := .num1(8)
    io.printf("sizeof token5 = %zu\n", sizeof token5)

    raw1 Raw1 :
    io.printf("sizeof raw1 = %zu\n", sizeof raw1)
    raw2 Raw2 :
    io.printf("sizeof raw2 = %zu\n", sizeof raw2)
    raw3 Raw3 :
    io.printf("sizeof raw3 = %zu\n", sizeof raw3)
    raw4 Raw4 :
    io.printf("sizeof raw4 = %zu\n", sizeof raw4)
    raw5 Raw5 :
    io.printf("sizeof raw5 = %zu\n", sizeof raw5)
    raw6 Raw6 :
    io.printf("sizeof raw6 = %zu\n", sizeof raw6)

    arr1 u8[12] :
    io.printf("sizeof arr1 = %zu\n", sizeof arr1)
    arr2 Div6[2] :
    io.printf("sizeof arr2 = %zu\n", sizeof arr2)
    arr3 StrangeSize[2] :
    io.printf("sizeof arr3 = %zu\n", sizeof arr3)

    return 0
}
